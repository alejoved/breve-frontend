<section [class]="'flex flex-col w-full items-center gap-8 md:gap-12 lg:gap-[57px] px-4 md:px-12 lg:px-[77px] pt-6 md:pt-16 lg:pt-[73px] pb-12 md:pb-16 relative transition-all duration-1000 ' + (isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10')">
  <div class="flex flex-col w-full max-w-[950px] items-center gap-6 md:gap-12 relative">
    <div class="flex flex-col items-center gap-6 relative w-full">
      <h1 class="relative flex items-center justify-center w-full max-w-[980px] font-funnel font-medium text-white text-center tracking-[-0.48px]">
        Software de Gestión de Suscripciones y Pagos Recurrentes para Negocios
      </h1>
      <p class="relative flex items-center justify-center w-full font-degular font-normal text-[#fffffff2] text-center tracking-[0]">
        Gestiona tus suscriptores y cobros recurrentes de forma automática. Comparte un link de suscripción y ofrece a tus clientes un portal de pagos simple y seguro. Empieza en minutos.
      </p>
    </div>

    <button (click)="handleScrollTo('#contacto')" class="sm:hidden w-full max-w-[350px] h-[50px] rounded-[65.53px] border-0 bg-[linear-gradient(270deg,rgba(255,136,170,1)_0%,rgba(107,78,230,1)_73%)] font-degular font-medium text-white text-center tracking-[0] hover:opacity-90 transition-opacity shadow-none focus-visible:ring-0 ring-[3.16px] ring-[#f9fafa4c] ring-inset">
      Contratar
    </button>

    <div class="relative w-full max-w-[678px] h-auto md:h-[49px] rounded-[43px] border border-solid border-[#c3b7ff] bg-transparent p-0 flex flex-row">
      <button
        (click)="setActiveDemo('tablero')"
        [class]="'flex-1 h-[47px] rounded-[43px] font-degular font-semibold tracking-[0] border-0 px-2 sm:px-3 md:px-4 text-center flex items-center justify-center whitespace-nowrap transition-all ' + (activeDemo === 'tablero' ? 'bg-[linear-gradient(214deg,rgba(255,239,243,1)_0%,rgba(203,193,255,1)_100%)] text-[#000000]' : 'text-white')">
        <span class="hidden sm:inline">Portal Negocios</span>
        <span class="sm:hidden">Negocios</span>
      </button>
      <button
        (click)="setActiveDemo('flujo')"
        [class]="'flex-1 h-[47px] rounded-[43px] font-degular font-semibold tracking-[0] border-0 px-2 sm:px-3 md:px-4 text-center flex items-center justify-center whitespace-nowrap transition-all ' + (activeDemo === 'flujo' ? 'bg-[linear-gradient(214deg,rgba(255,239,243,1)_0%,rgba(203,193,255,1)_100%)] text-[#000000]' : 'text-white')">
        <span class="hidden sm:inline">Flujo de suscripción</span>
        <span class="sm:hidden">Suscripción</span>
      </button>
      <button
        (click)="setActiveDemo('portal')"
        [class]="'flex-1 h-[47px] rounded-[43px] font-degular font-semibold tracking-[0] border-0 px-2 sm:px-3 md:px-4 text-center flex items-center justify-center whitespace-nowrap transition-all ' + (activeDemo === 'portal' ? 'bg-[linear-gradient(214deg,rgba(255,239,243,1)_0%,rgba(203,193,255,1)_100%)] text-[#000000]' : 'text-white')">
        <span class="hidden sm:inline">Portal Pagos</span>
        <span class="sm:hidden">Pagos</span>
      </button>
    </div>
  </div>

  <div class="relative w-full max-w-[1188px] overflow-hidden">
    <div class="relative w-full h-[500px] md:h-[600px] lg:h-[768px] bg-gray-50 rounded-[29px] overflow-hidden border-0 shadow-none">
      <div class="relative w-full h-full p-0 flex items-center justify-center bg-gray-50">
        <div style="position: relative; box-sizing: content-box; max-height: 80vh; max-height: 80svh; width: 100%; aspect-ratio: 1.73; padding: 40px 0 40px 0;">
          <iframe
            [src]="getCurrentDemoUrl() | sanitizeUrl"
            loading="lazy" title="Complete Subscription Setup with Payment Methods on masbreve" 
            allow="clipboard-write" 
            frameborder="0" 
            webkitallowfullscreen="true" 
            mozallowfullscreen="true" 
            allowfullscreen 
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
          </iframe>
        </div>
      </div>
    </div>
  </div>
</section>